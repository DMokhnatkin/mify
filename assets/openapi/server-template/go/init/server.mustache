{{>partial_header}}
package {{packageName}}_init

import (
	"net/http"

	"github.com/go-chi/chi/v5"
	"go.uber.org/zap"

	"{{goModule}}/internal/{{serviceName}}/generated/core"

)

func RunServer(ctx *core.MifyServiceContext, router chi.Router) error {
	ctx.Logger().Info("starting server on port :{{servicePort}}")
	err := http.ListenAndServe(":{{servicePort}}", router)
	if err != nil {
		ctx.Logger().Error("failed to listen", zap.Error(err))
		return err
	}
	return nil
}
